# icbc_ibm 接口文档
> 更新日期:2018-10-12 12:13

### 上送格式
目前全部为POST方法

##### 尝试登陆

###### 上传参数
<pre>
    
{
    "nick_name": "昵称",
    "password": "密码",
    "name": "真实姓名",
    "id_card": "身份证号",
    "tel": "电话",
    "card_number": "借记卡号"
}
</pre>
###### 返回参数
<pre>
{
    "code": 0,    // 状态码 0-成功 1-错误
    "msg": "结果说明，如果出错附带异常信息",
    "user_id": "用户唯一标识"

}
</pre>

###### 错误码
+ 400:身份信息有误 （身份证、姓名、电话、借记卡号重复或出错）
+ 500:服务器错误（bug）

##### 短信验证码重新发送
###### 上传参数
<pre>
{
     "user_id": "用户唯一标识"
}
</pre>
###### 返回参数
<pre>
{
    "code": 0,
    "msg": "结果说明，如果出错附带异常信息",
}
</pre>

##### 短信验证码校验
###### 上传参数
<pre>
{
    "verify_code": "123456", // 短信验证码
    "user_id": "用户唯一标识"
}
</pre>
###### 返回参数
<pre>
{
    "code": 0, // 0-验证通过 1-验证不通过
    "msg": "结果说明，如果出错附带异常信息",
}
</pre>

##### 登陆
###### 上传参数
<pre>
{
    "tel": "用户电话号码",
    "password": "用户输入的密码"
}
</pre>

###### 返回参数
<pre>
{
    "code": 0, // 0-验证通过 1-验证不通过
    "msg": "结果说明，如果出错附带异常信息",
    "user_id": "用户唯一标识"
    "session_token": "身份验证标识 如果验证不通过此字段为‘none’"
}
</pre>

###### 错误码
400: 用户已经登陆
403: 密码或电话号码错误
500: bug（服务器内部错误）

##### 登出
###### 上传参数
<pre>
{
    "user_id": "用户唯一标识",
    "session_token": "身份验证标识"
}
</pre>
###### 返回参数
<pre>
{
    "code": 0, // 0-验证通过 1-验证不通过
    "msg": "结果说明，如果出错附带异常信息",
}
</pre>

##### 支付
###### 上传参数
<pre>
{
    "user_id": "用户唯一标识"
    "money": "金额",
    "session_token": "身份验证标识"
}
</pre>
###### 返回参数
<pre>
{
    "code": 0, // 0-验证通过 1-验证不通过
    "msg": "结果说明，如果出错附带异常信息",
    "pay_url": "实际支付url"
}
</pre>

##### 退款
###### 上传参数
<pre>
{
    "user_id": "用户唯一标识"
    "money": "金额",
    "session_token": "身份验证标识"
}
</pre>
###### 返回参数
<pre>
{
    "code": 0, // 0-验证通过 1-验证不通过
    "msg": "结果说明，如果出错附带异常信息"
}
</pre>

##### 充值
###### 上传参数
<pre>
{
    "user_id": "用户唯一标识"
    "money": "金额",
    "session_token": "身份验证标识"
}
</pre>
###### 返回参数
<pre>
{
    "code": 0, // 0-验证通过 1-验证不通过
    "msg": "结果说明，如果出错附带异常信息"
}
</pre>
